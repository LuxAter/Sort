\documentclass{subfile}

\begin{document}
\begin{appendices}
  \section{Algorithms}
  \label{app:algorithms}
  \subsection{Bubble Sort}
  \label{app:algorithms:bubble_sort}
  \subsubsection{C++}
  \label{app:algorithms:bubble_sort:c++}
  \lstinputlisting{appendix/bubble.hpp}
  \lstinputlisting{appendix/bubble.cpp}
  
\end{appendices}
\end{document}
